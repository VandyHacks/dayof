{"id":"yNgr","dependencies":[{"name":"C:\\Users\\kzhai\\VandyHacks\\vandyhacksnotifications\\package.json","includedInParent":true,"mtime":1540882116534},{"name":"C:\\Users\\kzhai\\VandyHacks\\vandyhacksnotifications\\.babelrc","includedInParent":true,"mtime":1540875229523},{"name":"C:\\Users\\kzhai\\VandyHacks\\vandyhacksnotifications\\node_modules\\twilio\\package.json","includedInParent":true,"mtime":1539064513231},{"name":"jsonwebtoken","loc":{"line":3,"column":18},"parent":"C:\\Users\\kzhai\\VandyHacks\\vandyhacksnotifications\\node_modules\\twilio\\lib\\jwt\\taskrouter\\TaskRouterCapability.js","resolved":"C:\\Users\\kzhai\\VandyHacks\\vandyhacksnotifications\\node_modules\\jsonwebtoken\\index.js"},{"name":"lodash","loc":{"line":4,"column":16},"parent":"C:\\Users\\kzhai\\VandyHacks\\vandyhacksnotifications\\node_modules\\twilio\\lib\\jwt\\taskrouter\\TaskRouterCapability.js","resolved":"C:\\Users\\kzhai\\VandyHacks\\vandyhacksnotifications\\node_modules\\lodash\\lodash.js"}],"generated":{"js":"\"use strict\";var i=require(\"jsonwebtoken\"),e=require(\"lodash\");function t(i){i=i||{},this.url=i.url,this.method=i.method||\"GET\",this.queryFilter=i.queryFilter||{},this.postFilter=i.postFilter||{},this.allow=i.allow||!0}function s(i){if(e.isUndefined(i))throw new Error('Required parameter \"options\" missing.');if(e.isUndefined(i.accountSid))throw new Error('Required parameter \"options.accountSid\" missing.');if(e.isUndefined(i.authToken))throw new Error('Required parameter \"options.authToken\" missing.');if(e.isUndefined(i.workspaceSid))throw new Error('Required parameter \"options.workspaceSid\" missing.');if(e.isUndefined(i.channelId))throw new Error('Required parameter \"options.channelId\" missing.');this.accountSid=i.accountSid,this.authToken=i.authToken,this.workspaceSid=i.workspaceSid,this.channelId=i.channelId,this.friendlyName=i.friendlyName,this.ttl=i.ttl||3600,this.version=i.version||\"v1\",this.policies=[]}e.extend(t.prototype,{payload:function(){return{url:this.url,method:this.method,query_filter:this.queryFilter,post_filter:this.postFilter,allow:this.allow}}}),s.Policy=t,e.extend(s.prototype,{addPolicy:function(i){this.policies.push(i)},toJwt:function(){var t={iss:this.accountSid,exp:Math.floor(new Date/1e3)+this.ttl,version:this.version,friendly_name:this.friendlyName,account_sid:this.accountSid,channel:this.channelId,workspace_sid:this.workspaceSid,policies:e.map(this.policies,function(i){return i.payload()})};return e.startsWith(this.channelId,\"WK\")?t.worker_sid=this.channelId:e.startsWith(this.channelId,\"WQ\")&&(t.taskqueue_sid=this.channelId),i.sign(t,this.authToken)}}),module.exports=s;","map":{"mappings":[{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"jwt","original":{"line":3,"column":4},"generated":{"line":1,"column":17}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"require","original":{"line":3,"column":10},"generated":{"line":1,"column":19}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":3,"column":18},"generated":{"line":1,"column":27}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":4,"column":4},"generated":{"line":1,"column":43}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"require","original":{"line":4,"column":8},"generated":{"line":1,"column":45}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":4,"column":16},"generated":{"line":1,"column":53}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":17,"column":0},"generated":{"line":1,"column":63}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Policy","original":{"line":17,"column":9},"generated":{"line":1,"column":72}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":17,"column":16},"generated":{"line":1,"column":74}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":18,"column":2},"generated":{"line":1,"column":77}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":18,"column":12},"generated":{"line":1,"column":79}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":18,"column":23},"generated":{"line":1,"column":82}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"url","original":{"line":19,"column":7},"generated":{"line":1,"column":85}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"url","original":{"line":19,"column":7},"generated":{"line":1,"column":90}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":19,"column":13},"generated":{"line":1,"column":94}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"url","original":{"line":19,"column":21},"generated":{"line":1,"column":96}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"method","original":{"line":20,"column":7},"generated":{"line":1,"column":100}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"method","original":{"line":20,"column":7},"generated":{"line":1,"column":105}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":20,"column":16},"generated":{"line":1,"column":112}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"method","original":{"line":20,"column":24},"generated":{"line":1,"column":114}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":20,"column":34},"generated":{"line":1,"column":122}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"queryFilter","original":{"line":21,"column":7},"generated":{"line":1,"column":128}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"queryFilter","original":{"line":21,"column":7},"generated":{"line":1,"column":133}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":21,"column":21},"generated":{"line":1,"column":145}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"queryFilter","original":{"line":21,"column":29},"generated":{"line":1,"column":147}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":21,"column":44},"generated":{"line":1,"column":160}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"postFilter","original":{"line":22,"column":7},"generated":{"line":1,"column":163}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"postFilter","original":{"line":22,"column":7},"generated":{"line":1,"column":168}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":22,"column":20},"generated":{"line":1,"column":179}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"postFilter","original":{"line":22,"column":28},"generated":{"line":1,"column":181}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":22,"column":42},"generated":{"line":1,"column":193}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"allow","original":{"line":23,"column":7},"generated":{"line":1,"column":196}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"allow","original":{"line":23,"column":7},"generated":{"line":1,"column":201}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":23,"column":15},"generated":{"line":1,"column":207}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"allow","original":{"line":23,"column":23},"generated":{"line":1,"column":209}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":23,"column":32},"generated":{"line":1,"column":217}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":49,"column":0},"generated":{"line":1,"column":219}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"TaskRouterCapability","original":{"line":49,"column":9},"generated":{"line":1,"column":228}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":49,"column":30},"generated":{"line":1,"column":230}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":50,"column":6},"generated":{"line":1,"column":233}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":50,"column":6},"generated":{"line":1,"column":236}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"isUndefined","original":{"line":50,"column":8},"generated":{"line":1,"column":238}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":50,"column":20},"generated":{"line":1,"column":250}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":51,"column":10},"generated":{"line":1,"column":253}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":51,"column":10},"generated":{"line":1,"column":259}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Error","original":{"line":51,"column":14},"generated":{"line":1,"column":263}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":51,"column":20},"generated":{"line":1,"column":269}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":53,"column":6},"generated":{"line":1,"column":310}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":53,"column":6},"generated":{"line":1,"column":313}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"isUndefined","original":{"line":53,"column":8},"generated":{"line":1,"column":315}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":53,"column":20},"generated":{"line":1,"column":327}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"accountSid","original":{"line":53,"column":28},"generated":{"line":1,"column":329}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":54,"column":10},"generated":{"line":1,"column":341}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":54,"column":10},"generated":{"line":1,"column":347}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Error","original":{"line":54,"column":14},"generated":{"line":1,"column":351}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":54,"column":20},"generated":{"line":1,"column":357}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":56,"column":6},"generated":{"line":1,"column":409}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":56,"column":6},"generated":{"line":1,"column":412}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"isUndefined","original":{"line":56,"column":8},"generated":{"line":1,"column":414}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":56,"column":20},"generated":{"line":1,"column":426}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"authToken","original":{"line":56,"column":28},"generated":{"line":1,"column":428}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":57,"column":10},"generated":{"line":1,"column":439}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":57,"column":10},"generated":{"line":1,"column":445}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Error","original":{"line":57,"column":14},"generated":{"line":1,"column":449}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":57,"column":20},"generated":{"line":1,"column":455}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":59,"column":6},"generated":{"line":1,"column":506}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":59,"column":6},"generated":{"line":1,"column":509}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"isUndefined","original":{"line":59,"column":8},"generated":{"line":1,"column":511}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":59,"column":20},"generated":{"line":1,"column":523}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"workspaceSid","original":{"line":59,"column":28},"generated":{"line":1,"column":525}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":60,"column":10},"generated":{"line":1,"column":539}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":60,"column":10},"generated":{"line":1,"column":545}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Error","original":{"line":60,"column":14},"generated":{"line":1,"column":549}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":60,"column":20},"generated":{"line":1,"column":555}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":62,"column":6},"generated":{"line":1,"column":609}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":62,"column":6},"generated":{"line":1,"column":612}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"isUndefined","original":{"line":62,"column":8},"generated":{"line":1,"column":614}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":62,"column":20},"generated":{"line":1,"column":626}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":62,"column":28},"generated":{"line":1,"column":628}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":63,"column":10},"generated":{"line":1,"column":639}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":63,"column":10},"generated":{"line":1,"column":645}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Error","original":{"line":63,"column":14},"generated":{"line":1,"column":649}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":63,"column":20},"generated":{"line":1,"column":655}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"accountSid","original":{"line":66,"column":7},"generated":{"line":1,"column":706}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"accountSid","original":{"line":66,"column":7},"generated":{"line":1,"column":711}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":66,"column":20},"generated":{"line":1,"column":722}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"accountSid","original":{"line":66,"column":28},"generated":{"line":1,"column":724}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"authToken","original":{"line":67,"column":7},"generated":{"line":1,"column":735}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"authToken","original":{"line":67,"column":7},"generated":{"line":1,"column":740}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":67,"column":19},"generated":{"line":1,"column":750}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"authToken","original":{"line":67,"column":27},"generated":{"line":1,"column":752}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"workspaceSid","original":{"line":68,"column":7},"generated":{"line":1,"column":762}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"workspaceSid","original":{"line":68,"column":7},"generated":{"line":1,"column":767}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":68,"column":22},"generated":{"line":1,"column":780}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"workspaceSid","original":{"line":68,"column":30},"generated":{"line":1,"column":782}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":69,"column":7},"generated":{"line":1,"column":795}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":69,"column":7},"generated":{"line":1,"column":800}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":69,"column":19},"generated":{"line":1,"column":810}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":69,"column":27},"generated":{"line":1,"column":812}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"friendlyName","original":{"line":70,"column":7},"generated":{"line":1,"column":822}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"friendlyName","original":{"line":70,"column":7},"generated":{"line":1,"column":827}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":70,"column":22},"generated":{"line":1,"column":840}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"friendlyName","original":{"line":70,"column":30},"generated":{"line":1,"column":842}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"ttl","original":{"line":71,"column":7},"generated":{"line":1,"column":855}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"ttl","original":{"line":71,"column":7},"generated":{"line":1,"column":860}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":71,"column":13},"generated":{"line":1,"column":864}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"ttl","original":{"line":71,"column":21},"generated":{"line":1,"column":866}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":71,"column":28},"generated":{"line":1,"column":871}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"version","original":{"line":72,"column":7},"generated":{"line":1,"column":876}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"version","original":{"line":72,"column":7},"generated":{"line":1,"column":881}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"options","original":{"line":72,"column":17},"generated":{"line":1,"column":889}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"version","original":{"line":72,"column":25},"generated":{"line":1,"column":891}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":72,"column":36},"generated":{"line":1,"column":900}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policies","original":{"line":73,"column":7},"generated":{"line":1,"column":905}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policies","original":{"line":73,"column":7},"generated":{"line":1,"column":910}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":73,"column":18},"generated":{"line":1,"column":919}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":26,"column":0},"generated":{"line":1,"column":922}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"extend","original":{"line":26,"column":2},"generated":{"line":1,"column":924}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Policy","original":{"line":26,"column":9},"generated":{"line":1,"column":931}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"prototype","original":{"line":26,"column":16},"generated":{"line":1,"column":933}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":26,"column":27},"generated":{"line":1,"column":943}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"payload","original":{"line":27,"column":2},"generated":{"line":1,"column":944}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":27,"column":11},"generated":{"line":1,"column":952}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":28,"column":11},"generated":{"line":1,"column":963}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":28,"column":11},"generated":{"line":1,"column":969}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"url","original":{"line":29,"column":6},"generated":{"line":1,"column":970}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":29,"column":11},"generated":{"line":1,"column":974}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"url","original":{"line":29,"column":16},"generated":{"line":1,"column":979}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"method","original":{"line":30,"column":6},"generated":{"line":1,"column":983}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":30,"column":14},"generated":{"line":1,"column":990}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"method","original":{"line":30,"column":19},"generated":{"line":1,"column":995}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"query_filter","original":{"line":31,"column":6},"generated":{"line":1,"column":1002}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":31,"column":20},"generated":{"line":1,"column":1015}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"queryFilter","original":{"line":31,"column":25},"generated":{"line":1,"column":1020}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"post_filter","original":{"line":32,"column":6},"generated":{"line":1,"column":1032}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":32,"column":19},"generated":{"line":1,"column":1044}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"postFilter","original":{"line":32,"column":24},"generated":{"line":1,"column":1049}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"allow","original":{"line":33,"column":6},"generated":{"line":1,"column":1060}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":33,"column":13},"generated":{"line":1,"column":1066}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"allow","original":{"line":33,"column":18},"generated":{"line":1,"column":1071}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"TaskRouterCapability","original":{"line":76,"column":0},"generated":{"line":1,"column":1081}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Policy","original":{"line":76,"column":21},"generated":{"line":1,"column":1083}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Policy","original":{"line":76,"column":30},"generated":{"line":1,"column":1090}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":78,"column":0},"generated":{"line":1,"column":1092}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"extend","original":{"line":78,"column":2},"generated":{"line":1,"column":1094}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"TaskRouterCapability","original":{"line":78,"column":9},"generated":{"line":1,"column":1101}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"prototype","original":{"line":78,"column":30},"generated":{"line":1,"column":1103}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":78,"column":41},"generated":{"line":1,"column":1113}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"addPolicy","original":{"line":79,"column":2},"generated":{"line":1,"column":1114}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":79,"column":13},"generated":{"line":1,"column":1124}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policy","original":{"line":79,"column":22},"generated":{"line":1,"column":1133}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policies","original":{"line":80,"column":9},"generated":{"line":1,"column":1136}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policies","original":{"line":80,"column":9},"generated":{"line":1,"column":1141}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"push","original":{"line":80,"column":18},"generated":{"line":1,"column":1150}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policy","original":{"line":80,"column":23},"generated":{"line":1,"column":1155}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"toJwt","original":{"line":83,"column":2},"generated":{"line":1,"column":1159}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":83,"column":9},"generated":{"line":1,"column":1165}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"payload","original":{"line":84,"column":8},"generated":{"line":1,"column":1176}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"payload","original":{"line":84,"column":8},"generated":{"line":1,"column":1180}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":84,"column":18},"generated":{"line":1,"column":1182}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"iss","original":{"line":85,"column":6},"generated":{"line":1,"column":1183}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":85,"column":11},"generated":{"line":1,"column":1187}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"accountSid","original":{"line":85,"column":16},"generated":{"line":1,"column":1192}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"exp","original":{"line":86,"column":6},"generated":{"line":1,"column":1203}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Math","original":{"line":86,"column":12},"generated":{"line":1,"column":1207}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"floor","original":{"line":86,"column":17},"generated":{"line":1,"column":1212}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":86,"column":23},"generated":{"line":1,"column":1218}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"Date","original":{"line":86,"column":27},"generated":{"line":1,"column":1222}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":86,"column":36},"generated":{"line":1,"column":1227}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":86,"column":45},"generated":{"line":1,"column":1232}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"ttl","original":{"line":86,"column":50},"generated":{"line":1,"column":1237}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"version","original":{"line":87,"column":6},"generated":{"line":1,"column":1241}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":87,"column":15},"generated":{"line":1,"column":1249}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"version","original":{"line":87,"column":20},"generated":{"line":1,"column":1254}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"friendly_name","original":{"line":88,"column":6},"generated":{"line":1,"column":1262}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":88,"column":21},"generated":{"line":1,"column":1276}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"friendlyName","original":{"line":88,"column":26},"generated":{"line":1,"column":1281}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"account_sid","original":{"line":89,"column":6},"generated":{"line":1,"column":1294}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":89,"column":19},"generated":{"line":1,"column":1306}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"accountSid","original":{"line":89,"column":24},"generated":{"line":1,"column":1311}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channel","original":{"line":90,"column":6},"generated":{"line":1,"column":1322}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":90,"column":15},"generated":{"line":1,"column":1330}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":90,"column":20},"generated":{"line":1,"column":1335}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"workspace_sid","original":{"line":91,"column":6},"generated":{"line":1,"column":1345}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":91,"column":21},"generated":{"line":1,"column":1359}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"workspaceSid","original":{"line":91,"column":26},"generated":{"line":1,"column":1364}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policies","original":{"line":92,"column":6},"generated":{"line":1,"column":1377}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":92,"column":16},"generated":{"line":1,"column":1386}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"map","original":{"line":92,"column":18},"generated":{"line":1,"column":1388}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":92,"column":22},"generated":{"line":1,"column":1392}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policies","original":{"line":92,"column":27},"generated":{"line":1,"column":1397}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":92,"column":37},"generated":{"line":1,"column":1406}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policy","original":{"line":92,"column":46},"generated":{"line":1,"column":1415}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policy","original":{"line":93,"column":15},"generated":{"line":1,"column":1418}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"policy","original":{"line":93,"column":15},"generated":{"line":1,"column":1425}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"payload","original":{"line":93,"column":22},"generated":{"line":1,"column":1427}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"jwt","original":{"line":103,"column":11},"generated":{"line":1,"column":1440}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":97,"column":8},"generated":{"line":1,"column":1447}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"startsWith","original":{"line":97,"column":10},"generated":{"line":1,"column":1449}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":97,"column":21},"generated":{"line":1,"column":1460}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":97,"column":26},"generated":{"line":1,"column":1465}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":97,"column":37},"generated":{"line":1,"column":1475}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"payload","original":{"line":98,"column":6},"generated":{"line":1,"column":1481}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"worker_sid","original":{"line":98,"column":14},"generated":{"line":1,"column":1483}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":98,"column":27},"generated":{"line":1,"column":1494}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":98,"column":32},"generated":{"line":1,"column":1499}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"_","original":{"line":99,"column":15},"generated":{"line":1,"column":1509}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"startsWith","original":{"line":99,"column":17},"generated":{"line":1,"column":1511}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":99,"column":28},"generated":{"line":1,"column":1522}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":99,"column":33},"generated":{"line":1,"column":1527}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":99,"column":44},"generated":{"line":1,"column":1537}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"payload","original":{"line":100,"column":6},"generated":{"line":1,"column":1545}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"taskqueue_sid","original":{"line":100,"column":14},"generated":{"line":1,"column":1547}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":100,"column":30},"generated":{"line":1,"column":1561}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"channelId","original":{"line":100,"column":35},"generated":{"line":1,"column":1566}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"jwt","original":{"line":103,"column":11},"generated":{"line":1,"column":1577}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"sign","original":{"line":103,"column":15},"generated":{"line":1,"column":1579}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"payload","original":{"line":103,"column":20},"generated":{"line":1,"column":1584}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","original":{"line":103,"column":29},"generated":{"line":1,"column":1586}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"authToken","original":{"line":103,"column":34},"generated":{"line":1,"column":1591}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"module","original":{"line":107,"column":0},"generated":{"line":1,"column":1605}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"exports","original":{"line":107,"column":7},"generated":{"line":1,"column":1612}},{"source":"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js","name":"TaskRouterCapability","original":{"line":107,"column":17},"generated":{"line":1,"column":1620}}],"sources":{"node_modules/twilio/lib/jwt/taskrouter/TaskRouterCapability.js":"'use strict';\n\nvar jwt = require('jsonwebtoken');\nvar _ = require('lodash');\n\n/**\n * Create a new Policy\n *\n * @constructor\n * @param {object} options - ...\n * @param {string} [options.url] - Policy URL\n * @param {string} [options.method] - HTTP Method\n * @param {object} [options.queryFilter] - Request query filter allowances\n * @param {object} [options.postFilter] - Request post filter allowances\n * @param {boolean} [options.allowed] - Allow the policy\n */\nfunction Policy(options) {\n  options = options || {};\n  this.url = options.url;\n  this.method = options.method || 'GET';\n  this.queryFilter = options.queryFilter || {};\n  this.postFilter = options.postFilter || {};\n  this.allow = options.allow || true;\n}\n\n_.extend(Policy.prototype, {\n  payload: function() {\n    return {\n      url: this.url,\n      method: this.method,\n      query_filter: this.queryFilter,\n      post_filter: this.postFilter,\n      allow: this.allow\n    };\n  }\n});\n\n/**\n * @constructor\n * @param {object} options - ...\n * @param {string} options.accountSid - account sid\n * @param {string} options.authToken - auth token\n * @param {string} options.workspaceSid - workspace sid\n * @param {string} options.channelId - taskrouter channel id\n * @param {string} [options.friendlyName] - friendly name for the jwt\n * @param {number} [options.ttl] - time to live\n * @param {string} [options.version] - taskrouter version\n */\nfunction TaskRouterCapability(options) {\n  if (_.isUndefined(options)) {\n    throw new Error('Required parameter \"options\" missing.');\n  }\n  if (_.isUndefined(options.accountSid)) {\n    throw new Error('Required parameter \"options.accountSid\" missing.');\n  }\n  if (_.isUndefined(options.authToken)) {\n    throw new Error('Required parameter \"options.authToken\" missing.');\n  }\n  if (_.isUndefined(options.workspaceSid)) {\n    throw new Error('Required parameter \"options.workspaceSid\" missing.');\n  }\n  if (_.isUndefined(options.channelId)) {\n    throw new Error('Required parameter \"options.channelId\" missing.');\n  }\n\n  this.accountSid = options.accountSid;\n  this.authToken = options.authToken;\n  this.workspaceSid = options.workspaceSid;\n  this.channelId = options.channelId;\n  this.friendlyName = options.friendlyName;\n  this.ttl = options.ttl || 3600;\n  this.version = options.version || 'v1';\n  this.policies = [];\n}\n\nTaskRouterCapability.Policy = Policy;\n\n_.extend(TaskRouterCapability.prototype, {\n  addPolicy: function(policy) {\n    this.policies.push(policy);\n  },\n\n  toJwt: function() {\n    var payload = {\n      iss: this.accountSid,\n      exp: (Math.floor(new Date() / 1000)) + this.ttl,\n      version: this.version,\n      friendly_name: this.friendlyName,\n      account_sid: this.accountSid,\n      channel: this.channelId,\n      workspace_sid: this.workspaceSid,\n      policies: _.map(this.policies, function(policy) {\n        return policy.payload();\n      })\n    };\n\n    if (_.startsWith(this.channelId, 'WK')) {\n      payload.worker_sid = this.channelId;\n    } else if (_.startsWith(this.channelId, 'WQ')) {\n      payload.taskqueue_sid = this.channelId;\n    }\n\n    return jwt.sign(payload, this.authToken);\n  }\n});\n\nmodule.exports = TaskRouterCapability;\n"},"lineCount":null}},"hash":"96db56bfcefd3c268e0927f489af5602","cacheData":{"env":{}}}